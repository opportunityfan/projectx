<template>
  <div class="sidebar-container" :style="{width: status.isCollapse?'74px':'234px'}">
    <div class="sidebar-flex">
      <sidebar-item :is-collapse="status.isCollapse" @click="triggerCollapse" style="padding-bottom: 20px">
        <template #icon>
          <el-image :src="require('@/assets/svg/logo.svg')" style="width: 26px;height: 26px;"></el-image>
        </template>
        <template #appendix>
          <span style="color: #FFFFFF; font-size: 17px;">教师语言检测</span>
        </template>
      </sidebar-item>
      <sidebar-item :is-collapse="status.isCollapse" @click="goto('/home')">
        <template #icon>
          <svg width="21" height="21" viewBox="0 0 21 21" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.8125 8.18751L10.5 2.20834L18.1875 8.18751V17.5833C18.1875 18.0364 18.0075 18.4709 17.6871 18.7913C17.3668 19.1117 16.9322 19.2917 16.4792 19.2917H4.52083C4.06776 19.2917 3.63323 19.1117 3.31286 18.7913C2.99248 18.4709 2.8125 18.0364 2.8125 17.5833V8.18751Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7.9375 19.2917V10.75H13.0625V19.2917" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </template>
        <template #appendix>
          <span>主页</span>
        </template>
      </sidebar-item>
      <sidebar-item :is-collapse="status.isCollapse" @click="goto('/advice')">
        <template #icon>
          <svg width="19" height="20" viewBox="0 0 19 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.04312 5.945L9.5 10.2585L16.9569 5.945M9.5 18.86V10.25M17.1875 13.6667V6.83333C17.1872 6.53375 17.1081 6.23952 16.9582 5.98016C16.8083 5.72079 16.5928 5.50541 16.3333 5.35562L10.3542 1.93896C10.0945 1.78902 9.79988 1.71008 9.5 1.71008C9.20012 1.71008 8.90553 1.78902 8.64583 1.93896L2.66667 5.35562C2.40722 5.50541 2.19173 5.72079 2.04181 5.98016C1.89189 6.23952 1.81281 6.53375 1.8125 6.83333V13.6667C1.81281 13.9662 1.89189 14.2605 2.04181 14.5198C2.19173 14.7792 2.40722 14.9946 2.66667 15.1444L8.64583 18.561C8.90553 18.711 9.20012 18.7899 9.5 18.7899C9.79988 18.7899 10.0945 18.711 10.3542 18.561L16.3333 15.1444C16.5928 14.9946 16.8083 14.7792 16.9582 14.5198C17.1081 14.2605 17.1872 13.9662 17.1875 13.6667Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </template>
        <template #appendix>
          <span>教学建议</span>
        </template>
      </sidebar-item>
      <sidebar-item :is-collapse="status.isCollapse" @click="goto('/record')">
        <template #icon>
          <svg width="16" height="20" viewBox="0 0 16 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.79167 0.999939H2.95833C2.50526 0.999939 2.07073 1.17992 1.75036 1.5003C1.42998 1.82067 1.25 2.25519 1.25 2.70827V16.3749C1.25 16.828 1.42998 17.2625 1.75036 17.5829C2.07073 17.9033 2.50526 18.0833 2.95833 18.0833H13.2083C13.6614 18.0833 14.0959 17.9033 14.4163 17.5829C14.7367 17.2625 14.9167 16.828 14.9167 16.3749V6.12494M9.79167 0.999939L14.9167 6.12494M9.79167 0.999939L9.79167 6.12494H14.9167M11.5 10.3958H4.66667M11.5 13.8124H4.66667M6.375 6.97911H4.66667" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </template>
        <template #appendix>
          <span>我的记录</span>
        </template>
      </sidebar-item>
    </div>
    <div class="sidebar-flex">
      <sidebar-item :is-collapse="status.isCollapse">
        <template #icon>
          <svg width="21" height="21" viewBox="0 0 21 21" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.625 7.33333C15.625 5.97409 15.085 4.67053 14.1239 3.70941C13.1628 2.74828 11.8592 2.20833 10.5 2.20833C9.14077 2.20833 7.8372 2.74828 6.87608 3.70941C5.91495 4.67053 5.375 5.97409 5.375 7.33333C5.375 13.3125 2.8125 15.0208 2.8125 15.0208H18.1875C18.1875 15.0208 15.625 13.3125 15.625 7.33333Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M11.9778 18.4375C11.8276 18.6964 11.612 18.9113 11.3527 19.0606C11.0934 19.21 10.7993 19.2886 10.5 19.2886C10.2008 19.2886 9.90673 19.21 9.6474 19.0606C9.38806 18.9113 9.17251 18.6964 9.02234 18.4375" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </template>
        <template #appendix>
          <span>消息</span>
        </template>
      </sidebar-item>
      <sidebar-item :is-collapse="status.isCollapse">
        <template #icon>
          <svg width="21" height="20" viewBox="0 0 21 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.01442 7.68749C8.21523 7.11663 8.61161 6.63525 9.13334 6.32863C9.65506 6.02201 10.2685 5.90992 10.8649 6.01223C11.4614 6.11453 12.0024 6.42463 12.3921 6.88759C12.7818 7.35055 12.9951 7.9365 12.9942 8.54166C12.9942 10.25 10.4317 11.1042 10.4317 11.1042M10.5 14.5208H10.5086M19.0417 10.25C19.0417 14.9674 15.2175 18.7917 10.5 18.7917C5.78261 18.7917 1.95837 14.9674 1.95837 10.25C1.95837 5.53256 5.78261 1.70833 10.5 1.70833C15.2175 1.70833 19.0417 5.53256 19.0417 10.25Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </template>
        <template #appendix>
          <span>帮助</span>
        </template>
      </sidebar-item>
      <sidebar-item :is-collapse="status.isCollapse">
        <template #icon>
          <svg width="21" height="21" viewBox="0 0 21 21" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_227_692)">
              <path d="M10.5 13.3125C11.9152 13.3125 13.0625 12.1652 13.0625 10.75C13.0625 9.33477 11.9152 8.1875 10.5 8.1875C9.08477 8.1875 7.9375 9.33477 7.9375 10.75C7.9375 12.1652 9.08477 13.3125 10.5 13.3125Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16.8208 13.3125C16.7071 13.5701 16.6732 13.8559 16.7234 14.133C16.7737 14.4101 16.9057 14.6658 17.1027 14.8671L17.1539 14.9183C17.3128 15.077 17.4388 15.2654 17.5247 15.4728C17.6107 15.6802 17.6549 15.9025 17.6549 16.127C17.6549 16.3515 17.6107 16.5738 17.5247 16.7812C17.4388 16.9885 17.3128 17.177 17.1539 17.3356C16.9953 17.4944 16.8068 17.6205 16.5995 17.7064C16.3921 17.7924 16.1698 17.8366 15.9453 17.8366C15.7208 17.8366 15.4985 17.7924 15.2911 17.7064C15.0837 17.6205 14.8953 17.4944 14.7366 17.3356L14.6854 17.2844C14.4841 17.0874 14.2284 16.9554 13.9513 16.9051C13.6742 16.8549 13.3884 16.8888 13.1308 17.0025C12.8782 17.1108 12.6627 17.2906 12.5109 17.5197C12.3592 17.7489 12.2777 18.0174 12.2766 18.2923V18.4375C12.2766 18.8906 12.0966 19.3251 11.7763 19.6455C11.4559 19.9658 11.0214 20.1458 10.5683 20.1458C10.1152 20.1458 9.68069 19.9658 9.36032 19.6455C9.03994 19.3251 8.85996 18.8906 8.85996 18.4375V18.3606C8.85335 18.0779 8.76183 17.8037 8.59731 17.5737C8.43279 17.3436 8.20288 17.1684 7.93746 17.0708C7.67983 16.9571 7.39404 16.9232 7.11696 16.9734C6.83987 17.0237 6.58418 17.1558 6.38288 17.3527L6.33163 17.4039C6.17297 17.5628 5.98456 17.6888 5.77717 17.7748C5.56978 17.8607 5.34748 17.905 5.12298 17.905C4.89848 17.905 4.67618 17.8607 4.46879 17.7748C4.2614 17.6888 4.07299 17.5628 3.91433 17.4039C3.7555 17.2453 3.62949 17.0569 3.54352 16.8495C3.45755 16.6421 3.4133 16.4198 3.4133 16.1953C3.4133 15.9708 3.45755 15.7485 3.54352 15.5411C3.62949 15.3337 3.7555 15.1453 3.91433 14.9867L3.96558 14.9354C4.1625 14.7341 4.2946 14.4784 4.34484 14.2013C4.39508 13.9242 4.36116 13.6385 4.24746 13.3808C4.13918 13.1282 3.9594 12.9127 3.73023 12.761C3.50107 12.6092 3.23253 12.5278 2.95767 12.5267H2.81246C2.35938 12.5267 1.92486 12.3467 1.60449 12.0263C1.28411 11.7059 1.10413 11.2714 1.10413 10.8183C1.10413 10.3652 1.28411 9.93072 1.60449 9.61035C1.92486 9.28997 2.35938 9.10999 2.81246 9.10999H2.88933C3.17206 9.10338 3.44625 9.01186 3.67628 8.84734C3.9063 8.68282 4.08151 8.45291 4.17913 8.18749C4.29283 7.92986 4.32675 7.64407 4.2765 7.36699C4.22626 7.0899 4.09417 6.83422 3.89725 6.63291L3.846 6.58166C3.68717 6.423 3.56116 6.23459 3.47519 6.0272C3.38922 5.81981 3.34497 5.59751 3.34497 5.37301C3.34497 5.14851 3.38922 4.92621 3.47519 4.71882C3.56116 4.51143 3.68717 4.32302 3.846 4.16436C4.00466 4.00553 4.19307 3.87952 4.40046 3.79355C4.60785 3.70758 4.83015 3.66333 5.05465 3.66333C5.27915 3.66333 5.50145 3.70758 5.70884 3.79355C5.91622 3.87952 6.10463 4.00553 6.26329 4.16436L6.31454 4.21561C6.51585 4.41253 6.77154 4.54463 7.04862 4.59487C7.32571 4.64511 7.6115 4.61119 7.86913 4.49749H7.93746C8.1901 4.38921 8.40556 4.20943 8.55732 3.98026C8.70909 3.7511 8.79053 3.48256 8.79163 3.2077V3.06249C8.79163 2.60941 8.97161 2.17489 9.29199 1.85452C9.61236 1.53414 10.0469 1.35416 10.5 1.35416C10.953 1.35416 11.3876 1.53414 11.7079 1.85452C12.0283 2.17489 12.2083 2.60941 12.2083 3.06249V3.13936C12.2094 3.41422 12.2908 3.68276 12.4426 3.91193C12.5944 4.14109 12.8098 4.32088 13.0625 4.42916C13.3201 4.54286 13.6059 4.57678 13.883 4.52654C14.16 4.47629 14.4157 4.3442 14.617 4.14728L14.6683 4.09603C14.8269 3.9372 15.0154 3.81119 15.2227 3.72522C15.4301 3.63925 15.6524 3.595 15.8769 3.595C16.1014 3.595 16.3237 3.63925 16.5311 3.72522C16.7385 3.81119 16.9269 3.9372 17.0856 4.09603C17.2444 4.25469 17.3704 4.4431 17.4564 4.65049C17.5424 4.85788 17.5866 5.08018 17.5866 5.30468C17.5866 5.52918 17.5424 5.75148 17.4564 5.95887C17.3704 6.16626 17.2444 6.35466 17.0856 6.51332L17.0343 6.56457C16.8374 6.76588 16.7053 7.02157 16.6551 7.29865C16.6048 7.57574 16.6388 7.86153 16.7525 8.11916V8.18749C16.8607 8.44013 17.0405 8.65559 17.2697 8.80735C17.4989 8.95912 17.7674 9.04056 18.0423 9.04166H18.1875C18.6405 9.04166 19.0751 9.22164 19.3954 9.54202C19.7158 9.86239 19.8958 10.2969 19.8958 10.75C19.8958 11.2031 19.7158 11.6376 19.3954 11.958C19.0751 12.2783 18.6405 12.4583 18.1875 12.4583H18.1106C17.8357 12.4594 17.5672 12.5409 17.338 12.6926C17.1089 12.8444 16.9291 13.0599 16.8208 13.3125V13.3125Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </g>
            <defs>
              <clipPath id="clip0_227_692">
                <rect width="20.5" height="20.5" fill="white" transform="translate(0.25 0.5)"/>
              </clipPath>
            </defs>
          </svg>
        </template>
        <template #appendix>
          <span>设置</span>
        </template>
      </sidebar-item>
      <sidebar-avatar :is-collapse="status.isCollapse" style="margin-top: 8px;padding-top: 12px;"></sidebar-avatar>
    </div>
  </div>
</template>

<script setup>
import { reactive } from 'vue'
import { goto } from '@/assets/js/api'
import SidebarItem from '@/components/SidebarItem'
import SidebarAvatar from '@/components/SidebarAvatar'
const status = reactive({
  isCollapse: true
})

const triggerCollapse = () => {
  status.isCollapse = (status.isCollapse === false)
}
</script>

<style scoped>
.sidebar-container {
  box-sizing: border-box;
  height: 100%;
  border-radius: var(--border-radius);
  background-color: #2C2C2C;
  padding: 40px 24px 40px 24px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: all 0.1s;
}
.sidebar-flex {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
}
svg {
  width: 18px;
  height: 18px;
}
</style>
